{% extends "dashboard/layout.html" %}

{% block extra_css %}
<style>
:root {
  --primary-green: #5cb910;
  --accent-gradient: linear-gradient(135deg, #5cb910, #0f940d);
  --bg-gradient: linear-gradient(135deg, #ecfdf5 0%, #b8e7b2ff 100%);
  --card-gradient: linear-gradient(145deg, #ffffff 0%, #f0fdf4 100%);
  --text-dark: #064e3b;
  --text-medium: #065f46;
  --text-light: #6b7280;
  --shadow-light: 0 10px 25px rgba(92, 185, 16, 0.1);
  --shadow-medium: 0 15px 35px rgba(92, 185, 16, 0.15);
  --border-radius: 16px;
}

body {
  background: var(--bg-gradient);
  font-family: 'Inter', 'Segoe UI', sans-serif;
  color: var(--text-dark);
  min-height: 100vh;
}

.lifestyle-container {
  max-width: 1000px;
  margin: 2rem auto;
  padding: 1rem;
}

.lifestyle-header {
  text-align: center;
  margin-bottom: 2rem;
}

.lifestyle-header h1 {
  font-size: 3rem;
  font-weight: 800;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom: 0.5rem;
}

.lifestyle-header p {
  font-size: 2rem;
  color: var(--text-medium);
}

.skin-type-select {
  text-align: center;
  margin-bottom: 2rem;
}

.skin-type-select select {
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 1.5rem;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

.recommendations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.8rem;
}

.recommendation-card {
  background: var(--card-gradient);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  box-shadow: var(--shadow-light);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  overflow: hidden;
  position: relative;
}

.recommendation-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 5px;
  width: 100%;
  background: var(--accent-gradient);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}

.recommendation-card:hover::before {
  transform: scaleX(1);
}

.recommendation-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-medium);
}

.recommendation-card h3 {
  margin-bottom: 0.5rem;
  font-size: 1.3rem;
  color: var(--text-dark);
}

.recommendation-card p {
  font-size: 1.95rem;
  color: var(--text-medium);
  line-height: 1.4;
}

.empty-state {
  text-align: center;
  grid-column: 1/-1;
  color: var(--text-light);
  font-size: 1rem;
  padding: 2rem 0;
}

@media (max-width:768px) {
  .recommendations-grid { grid-template-columns: 1fr; }
}
</style>
{% endblock %}

{% block dashboard_content %}
<div class="lifestyle-container">
  <div class="lifestyle-header">
    <h1>Lifestyle Recommendations</h1>
    <p>Personalized advice based on your selected skin type.</p>
  </div>

  <div class="skin-type-select">
    <label for="skinType">Choose your skin type:</label>
    <select id="skinType">
      <option value="">-- Select Skin Type --</option>
      <option value="dry">Dry</option>
      <option value="oily">Oily</option>
      <option value="combination">Combination</option>
      <option value="sensitive">Sensitive</option>
      <option value="normal">Normal</option>
    </select>
  </div>

 <div class="recommendations-grid" id="recommendationsGrid">
  <p class="empty-state" style="font-size: 1.3rem;">
    Please select a skin type to see recommendations.
  </p>
</div>

</div>
{% endblock %}

{% block dashboard_js %}
<script>
(function() {
    const recommendationsData = {
        dry: [
            { title: "Hydration", description: "Drink at least 2-3 liters of water daily." },
            { title: "Oil-based Moisturizers", description: "Use nourishing oils or creams." },
            { title: "Humidifier Use", description: "Use a humidifier in dry environments." },
            { title: "Gentle Cleansing", description: "Avoid harsh soaps and use hydrating cleansers." },
            { title: "Weekly Exfoliation", description: "Exfoliate 1-2 times per week to remove dead skin." },
            { title: "Healthy Diet", description: "Include avocados, nuts, and omega-3 rich foods." }
        ],
        oily: [
            { title: "Cleansing Twice Daily", description: "Removes excess sebum and prevents breakouts." },
            { title: "Oil-Free Moisturizers", description: "Use lightweight, non-comedogenic moisturizers." },
            { title: "Mattifying Products", description: "Control shine and reduce pore clogging." },
            { title: "Avoid Over-Washing", description: "Excess washing can increase oil production." },
            { title: "Regular Exfoliation", description: "Helps unclog pores and prevent acne." },
            { title: "Healthy Snacks", description: "Limit oily and sugary foods that trigger breakouts." }
        ],
        combination: [
            { title: "Targeted Moisturizing", description: "Moisturize dry areas and use light products on oily zones." },
            { title: "Balancing Toner", description: "Helps regulate oiliness in T-zone." },
            { title: "Weekly Exfoliation", description: "Remove dead skin carefully to avoid irritation." },
            { title: "Hydration", description: "Drink plenty of water to maintain skin balance." },
            { title: "Sun Protection", description: "Use SPF daily to prevent uneven pigmentation." },
            { title: "Balanced Diet", description: "Include fruits and vegetables to nourish skin." }
        ],
        sensitive: [
            { title: "Patch Test", description: "Always test new products on a small area first." },
            { title: "Fragrance-Free Products", description: "Reduce risk of redness and irritation." },
            { title: "Gentle Cleansing", description: "Avoid hot water and harsh cleansers." },
            { title: "Soothing Ingredients", description: "Look for aloe vera, chamomile, or oatmeal-based products." },
            { title: "Sun Protection", description: "Use mineral sunscreens to prevent irritation." },
            { title: "Avoid Stress", description: "Stress can aggravate sensitive skin, practice relaxation." }
        ],
        normal: [
            { title: "Maintain Routine", description: "Regular cleansing, moisturizing, and sun protection." },
            { title: "Balanced Diet", description: "Eat a variety of fruits, vegetables, and proteins." },
            { title: "Hydration", description: "Drink adequate water daily." },
            { title: "Sun Protection", description: "SPF daily prevents premature aging." },
            { title: "Moderate Exfoliation", description: "Exfoliate 1-2 times per week to keep skin fresh." },
            { title: "Exercise", description: "Regular physical activity promotes circulation and glow." }
        ]
    };

    function init() {
        const skinSelect = document.getElementById('skinType');
        const recommendationsGrid = document.getElementById('recommendationsGrid');

        function renderRecommendations(skinType) {
            recommendationsGrid.innerHTML = '';
            if (!skinType || !recommendationsData[skinType]) {
                const p = document.createElement('p');
                p.className = 'empty-state';
                p.textContent = 'Please select a skin type to see recommendations.';
                recommendationsGrid.appendChild(p);
                return;
            }

            recommendationsData[skinType].forEach(rec => {
                const card = document.createElement('div');
                card.className = 'recommendation-card';
                card.innerHTML = `<h3>${rec.title}</h3><p>${rec.description}</p>`;
                recommendationsGrid.appendChild(card);
            });
        }

        skinSelect.addEventListener('change', function() {
            renderRecommendations(this.value);
        });
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }
})();
</script>
{% endblock %}
